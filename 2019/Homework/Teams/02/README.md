# Домашнее задание по курсу "Разработка приложений на языке C#"

## Команда и варианты выполненного задания

1. Магомедов Тимур, ИУ6-75 - Реализация ввода данных на базе Windows Forms **(вариант 1.1)**
2. Нехорошева Наталья, ИУ6-75 - Реализация записи в БД при помощи Dapper **(вариант 2.2)**
3. Огарева Екатерина, ИУ6-75 - Реализация чтения из БД при помощи Dapper **(вариант 3.2)**
4. Степанов Эрнест, ИУ6-75 - Реализация отправки данных в виде SOAP ASP.NET, пакет XML **(вариант 4.1)**
5. Дикарев Андрей, ИУ6-71 - Реализация приема данных в виде SOAP ASP.NET, пакет XML **(вариант 5.1)**
6. Королев Александр, ИУ6-71 - Реализация отображения данных на базе ASP.NET Web Forms **(вариант 6.2)**

> Примечание: вариант для функционального блока 5 изначально был 5.5, однако был изменен на 5.1 для соответствия реализаций клиента и веб-сервиса.

## Список модулей

- `EmissionsLibrary` - общая для всех модулей библиотека классов предметной области.
- `EmissionsInput` - приложение Windows Forms для ввода данных измерений, которые сохраняются в БД.
- `EmissionsService` - служба Windows, опрашивающая с заданной периодичностю БД и отправляющая данные в `EmissionsWeb`. Периодичность опроса БД задана в файле [App.config](./EmissionsService/App.config) под ключом `pollInterval`. Стандартное значение - 10 секунд.
- `EmissionsWeb` - веб-приложение, отображающее в режиме реального времени записи из БД, которые поступают от `EmissionsService`. Периодичность запроса новых данных с веб-страницы на сервер - 10 секунд.

## Инструкция по запуску проекта

1. Проект содержит git submodules, поэтому после переключения в ветку `team-2` необходимо скачать все модули командой `git submodule update --init`, находясь в корне проекта.
2. Создать БД в SQL EXPRESS из скрипта [dbCreateScript.sql](./dbCreateScript.sql) Название созданной БД - `Emissions`. Строка подключения к ней прописана в файлах `App.config` в проектах `EmissionsInput` и `EmissionsService`.
3. Собрать библиотеку классов EmissionsLibrary.
4. Обновить ссылку на EmissionsLibrary в проекте EmissionsInput (Указать путь к dll-файлу). Восстановить пакеты NuGet (Управление пакетами nuget -> Восстановить).
5. Запустить EmissionsInput, БД должна проиницилизироваться (только при первом запуске).
6. Обновить ссылку на EmissionsLibrary в проекте EmissionsWeb. Восстановить пакеты NuGet.
7. Запустить EmissionsWeb.
8. Обновить ссылку на EmissionsLibrary в проекте EmissionsService. Восстановить пакеты NuGet.
9. Собрать и установить EmissionsService в качестве службы windows. Для корректного запуска службы необходимо выбрать учетную запись пользователя в настройках службы (название службы - `Emissions Reader`).
10. Запустить EmissionsService.
